mutation AddBasketItem($options: BasketOptionsInput!, $clientConfig: ClientConfig, $capabilities: CapabilitiesInput, $item: AddBasketItemInput!, $skipUI: Boolean!) { add_basket_item( options: $options client_config: $clientConfig capabilities: $capabilities item: $item ) { __typename ...BasketPageFields } }
fragment BasketFields on Basket { __typename drn branch_drn_id branch_timezone menu_drn_id scheduled_delivery { __typename day time } items { __typename ...BasketItemFields } backup_strategy delivery_priority item_backup_strategy_labels { __typename id label } currency_code currency_symbol subtotal_before_discounts { __typename ...MoneyFields } subtotal_after_discounts { __typename ...MoneyFields } }
fragment BasketItemFields on BasketItem { __typename legacy_id menu_item_legacy_id menu_item_drn_id name description quantity total_price_formatted discounted_total_price_formatted modifier_items { __typename ...ModifierBasketItemFields } backup_strategy available_backup_strategies }
fragment BasketPageFields on BasketPage { __typename ui_header @skip(if: $skipUI) { __typename ...UIHeaderFields } sticky_banners @skip(if: $skipUI) { __typename ...UIBannerFields } ui_sections @skip(if: $skipUI) { __typename ...UIComponentSectionFields } ui_footer @skip(if: $skipUI) { __typename ...UIFooterFields } meta { __typename ...MetaFields } modals_on_load { __typename ...UIModalFields } modal_definitions @skip(if: $skipUI) { __typename ...UIModalFields } ui_target_definitions { __typename ref_id ui_target { __typename ...UITargetFields } } meta_fulfillment_time_methods { __typename ...FulfillmentTimeMethodFields } meta_timers { __typename ends_at target { __typename ...UITargetFields } } }
fragment BranchFields on Branch { __typename default_locale }
fragment CharityDonationOptionFields on CharityDonationOption { __typename selected label target { __typename ...UITargetFields } tracking_id }
fragment CurrencyFields on Currency { __typename code formatted fractional }
fragment FulfillmentTimeMethodFields on FulfillmentTimeMethod { __typename label method optional_asap { __typename ...FulfillmentTimeOptionFields } days { __typename day day_label times { __typename ...FulfillmentTimeOptionFields } } }
fragment FulfillmentTimeOptionFields on FulfillmentTimeOption { __typename label display_label short_display_label selected_label selected_display_label selected_time { __typename day time } minute_range timestamp }
fragment IconFields on Icon { __typename name size color { __typename ...UIColorFields } background_color { __typename ...UIColorFields } }
fragment ImageFields on Image { __typename url type }
fragment MetaFields on Meta { __typename basket { __typename ...BasketFields } branch { __typename ...BranchFields } served_upsell_tracking_id served_upsell_recommended_items_count request_uuid should_show_full_page_upsell plus_upsell_modal { __typename ...UIPlusModalFields } offer_meta { __typename ...OfferMetaFields } }
fragment ModifierBasketItemFields on ModifierBasketItem { __typename legacy_id menu_item_legacy_id menu_item_drn_id parent_menu_item_legacy_id parent_menu_item_drn_id name description quantity total_price_formatted discounted_total_price_formatted modifier_group_id path modifier_id parent_modifier_item_id }
fragment MoneyFields on Money { __typename fractional currency currency_symbol fractional_conversion formatted }
fragment OfferFields on Offer { __typename ... on MinimumOrderValueOffer { minimum_order_value { __typename ...CurrencyFields } } ... on FreeItemOffer { item_ids minimum_order_value { __typename ...CurrencyFields } } ... on FlashDealOffer { percentage_discount minimum_order_value { __typename ...CurrencyFields } } ... on FullMenuPercentOffOffer { percentage_discount minimum_order_value { __typename ...CurrencyFields } max_discount { __typename ...CurrencyFields } } ... on ItemSpecificPercentOffOffer { item_ids minimum_order_value { __typename ...CurrencyFields } } ... on AmountOffOffer { item_ids minimum_order_value { __typename ...CurrencyFields } amount { __typename ...CurrencyFields } } ... on FreeDeliveryOffer { minimum_order_value { __typename ...CurrencyFields } } ... on BuyOneGetOneFreeOffer { item_ids } ... on BuyOneGetOnePercentOffOffer { percentage_discount item_ids } }
fragment OfferMetaFields on OfferMeta { __typename progress_bar { __typename offer { __typename ...OfferFields } display initial { __typename ...OfferProgressBarStateFields } in_progress { __typename ...OfferProgressBarStateFields } complete { __typename ...OfferProgressBarStateFields } } }
fragment OfferProgressBarStateFields on OfferProgressBarState { __typename line { __typename ...UILineFields } timer { __typename ...UILineFields } progress_bar_color { __typename ...UIColorFields } }
fragment StaticImageFields on StaticImage { __typename static_image_name: name static_image_size: size }
fragment UIActionFields on UIAction { __typename key tracking_id icon { __typename ...IconFields } ui_lines { __typename ...UILineFields } target_presentational { __typename ...UILineFields } target { __typename ...UITargetFields } content_description }
fragment UIBackgroundColorFields on UIBackgroundColor { __typename ... on Color { ...UIColorFields } ... on ColorGradient { from { __typename ...UIColorFields } to { __typename ...UIColorFields } } }
fragment UIBannerFields on UIBanner { __typename key background { __typename ...UIBackgroundColorFields } border { __typename ...UIColorFields } banner_content: content { __typename ...UIBasicRowFields } }
fragment UIBasicRowComponentFields on UIBasicRowComponent { __typename ... on UIBasicRowImageContent { static_content: content { __typename ... on Icon { ...IconFields } ... on StaticImage { ...StaticImageFields } ... on Illustration { illustration_name: name } } key } ... on UIBasicRowTextContent { content { __typename ...UILineFields } key } ... on UIRiderTipStepper { ...UIRiderTipStepperFields } ... on UIRadioButtonBasicRowComponent { is_selected value } ... on UIBasicRowToggle { selected key tracking_id } }
fragment UIBasicRowFields on UIBasicRow { __typename content_start { __typename ...UIBasicRowComponentFields } content_main { __typename ...UIBasicRowComponentFields } content_end { __typename ...UIBasicRowComponentFields } target { __typename ...UITargetFields } swipe_actions { __typename ...UIActionFields } key tracking_id tracking_properties content_description accessibility_traits accessibility_hint row_type: type }
fragment UICarouselComponentFields on UICarouselComponent { __typename ... on UIRecommendedItemCard { ...UIRecommendedItemCardFields } }
fragment UICharityDonationOptionsFields on UICharityDonationOptions { __typename key tracking_id label options { __typename ...CharityDonationOptionFields } }
fragment UIColorFields on Color { __typename blue green red alpha token }
fragment UIComponentSectionFields on UIComponentSection { __typename ... on UIListSection { section_id key header ui_lines { __typename ...UILineFields } subheader max_columns components { __typename ...UIListComponentFields } ui_action { __typename ...UIActionFields } tracking_id style } }
fragment UIFooterFields on UIFooter { __typename ui_sections { __typename ...UIComponentSectionFields } }
fragment UIHeaderFields on UIHeader { __typename title subtitle actions { __typename ...UIActionFields } }
fragment UILineFields on UILine { __typename ... on UITextLine { ui_spans { __typename ...UISpanFields } align max_lines } ... on UITitleLine { text color { __typename ...UIColorFields } size max_lines } }
fragment UIListComponentFields on UIListComponent { __typename ... on UIButton { key tracking_id tracking_properties text type is_destructive content_description target { __typename ...UITargetFields } } ... on UIBasicRow { ...UIBasicRowFields } ... on UIBenefitsBreakdown { key header { __typename background { __typename ...UIBackgroundColorFields } ui_lines { __typename ...UILineFields } content_description } content { __typename ...UIBasicRowFields } content_background { __typename ...UIBackgroundColorFields } pointer_position } ... on UIBanner { ...UIBannerFields } ... on UICarousel { key carousel_header: header subheader components { __typename ...UICarouselComponentFields } ui_action { __typename ...UIActionFields } tracking_id } ... on UILargeBanner { key contents { __typename ...UILineFields } main_background_color { __typename ...UIBackgroundColorFields } icon { __typename ... on Icon { ...IconFields } ... on StaticImage { ...StaticImageFields } ... on Illustration { illustration_name: name } ... on UIRewardsProgress { key steps completed tracking_id } } details { __typename ...UIBasicRowFields } details_background_color { __typename ...UIBackgroundColorFields } content_description } ... on UIDateOfBirthInputField { key text_input_id placeholder title validation_error_message optional_text: text } ... on UIRecommendedItemCard { ...UIRecommendedItemCardFields } ... on UITextAreaInput { ...UITextAreaInputFields } ... on UICharityDonation { key charity_donation_title: title subtitle image { __typename ...ImageFields } } ... on UICharityDonationOptions { ...UICharityDonationOptionsFields } }
fragment UIModalFields on UIModal { __typename id tracking_id presentation_style header { __typename ...UIModalHeaderFields } sections { __typename ...UIComponentSectionFields } footer { __typename ...UIModalFooterFields } }
fragment UIModalFooterFields on UIModalFooter { __typename sections { __typename ...UIComponentSectionFields } }
fragment UIModalHeaderFields on UIModalHeader { __typename title actions { __typename ...UIActionFields } }
fragment UIPlusModalFields on UIPlusModal { __typename ... on UIPlusPromotionModal { should_display } ... on UIPlusShortSignUpModal { params { __typename id value } } }
fragment UIRecommendedItemCardFields on UIRecommendedItemCard { __typename key optionalImage: image { __typename ...ImageFields } description { __typename ...UILineFields } coretarget: target { __typename ...UITargetFields } quickaddtarget: quickadd_target { __typename ...UITargetFields } tracking_id tracking_properties content_description }
fragment UIRiderTipStepperFields on UIRiderTipStepper { __typename key decrement_icon { __typename ...IconFields } increment_icon { __typename ...IconFields } step_amount { __typename fractional } max_amount { __typename fractional } current_amount { __typename ...MoneyFields } }
fragment UISpanCountdownFields on UISpanCountdown { __typename color { __typename ...UIColorFields } is_bold size ends_at }
fragment UISpanFields on UISpan { __typename ... on UISpanIcon { ...UISpanIconFields } ... on UISpanSpacer { ...UISpanSpacerFields } ... on UISpanText { ...UISpanTextFields } ... on UISpanCountdown { ...UISpanCountdownFields } ... on UISpanTag { ...UISpanTagFields } }
fragment UISpanIconFields on UISpanIcon { __typename span_icon { __typename name size color { __typename ...UIColorFields } } target { __typename ...UITargetFields } }
fragment UISpanSpacerFields on UISpanSpacer { __typename width }
fragment UISpanTagFields on UISpanTag { __typename key background_color { __typename ...UIColorFields } ui_spans { __typename ... on UISpanText { ...UISpanTextFields } ... on UISpanSpacer { ...UISpanSpacerFields } } tracking_id target { __typename ...UITargetFields } }
fragment UISpanTextFields on UISpanText { __typename color { __typename ...UIColorFields } is_bold is_strikethrough size text target { __typename ...UITargetFields } }
fragment UITargetActionFields on UITargetAction { __typename action params { __typename id value } }
fragment UITargetAddBasketItemFields on UITargetAddBasketItem { __typename options { __typename force_new } item { __typename menu_item_drn_id quantity modifier_items { __typename menu_item_legacy_id parent_menu_item_id quantity modifier_group_id } } }
fragment UITargetFields on UITarget { __typename ... on UITargetParams { title params { __typename id value } } ... on UITargetCreateNewBasket { options { __typename branch_id } } ... on UITargetAddBasketItem { ...UITargetAddBasketItemFields } ... on UITargetAction { ...UITargetActionFields } ... on UITargetModalAction { tracking_id action params { __typename id value } layout_id } ... on UITargetPartnerMenu { partner_id } ... on UITargetMenuItem { menu_item_id menu_item_drn_id } ... on UITargetWebPage { url } ... on UITargetShowEditItemModal { basket_item_legacy_id } ... on UITargetMutation { mutation display_name params { __typename id value } } ... on UITargetGoToCheckout { pre_checkout_target_ref_ids } ... on UITargetRemoveBasketItem { basket_item_legacy_id } ... on UITargetAgeVerification { text_input_id } ... on UITargetShowModal { modal_id } ... on UITargetDismissModal { modal_id } ... on UITargetGoToRecommendations { ...UITargetGoToRecommendationsFields } ... on UITargetSetScheduledDeliveryTime { ...UITargetSetScheduledDeliveryTimeFields } ... on UITargetChangeDeliveryPriority { delivery_priority } ... on UITargetOpenFulfillmentTimeModal { fulfillment_time_methods { __typename ...FulfillmentTimeMethodFields } } ... on UITargetSetRadioButtonValue { value } ... on UITargetSetBasketBackupStrategy { options { __typename page } } ... on UITargetGoToBasket { options { __typename branch_id } } ... on UITargetClearBasket { options { __typename branch_id } } ... on UITargetWebPage { url } ... on UITargetToggle { next_status id } ... on UITargetUpdateOrderNote { text_input_id } ... on UITargetGoToRestaurants { options { __typename branch_id } } ... on UITargetLayoutGroup { layout_group_id } ... on UITargetUpdateCharityDonationOption { money_value: value { __typename ...MoneyFields } } }
fragment UITargetGoToRecommendationsFields on UITargetGoToRecommendations { __typename options { __typename branch_id location { __typename lat lon } fulfillment_method delivery_time { __typename time day } } pre_checkout_target_ref_ids }
fragment UITargetSetScheduledDeliveryTimeFields on UITargetSetScheduledDeliveryTime { __typename options { __typename branch_id location { __typename lat lon } fulfillment_method delivery_time { __typename time day } force_new } }
fragment UITextAreaInputFields on UITextAreaInput { __typename key text_input_id placeholder max_length initial_value help_message content_description }